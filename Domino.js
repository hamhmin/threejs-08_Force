import{Mesh,BoxGeometry,MeshBasicMaterial}from"three";import{Body,Box,Vec3}from"cannon-es";export class Domino{constructor(t){this.scene=t.scene,this.cannonWorld=t.cannonWorld,this.index=t.index,this.width=t.width||.6,this.height=t.height||1,this.depth=t.depth||.2,this.x=t.x||0,this.y=t.y||.5,this.z=t.z||0,this.rotationY=t.rotationY||0,t.gltfLoader.load("./models/domino.glb",(t=>{this.modelMesh=t.scene.children[0],this.modelMesh.name=`${this.index}번 도미노`,this.modelMesh.castShadow=!0,this.modelMesh.position.set(this.x,this.y,this.z),this.scene.add(this.modelMesh),this.setCannonBody()}))}setCannonBody(){const t=new Box(new Vec3(this.width/2,this.height/2,this.depth/2));this.cannonBody=new Body({mass:1,position:new Vec3(this.x,this.y,this.z),shape:t}),this.cannonBody.quaternion.setFromAxisAngle(new Vec3(0,1,0),this.rotationY),this.modelMesh.cannonBody=this.cannonBody,this.cannonWorld.addBody(this.cannonBody)}}