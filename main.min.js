(()=>{"use strict";var e,n={4705:(e,n,t)=>{t(853),t(4994);var o=t(6075),i=t(8012),r=t(3653);function a(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var d=s((function e(n){var t,o,i,r=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.mouseMoved,n.addEventListener("mousedown",(function(e){t=e.clientX,o=e.clientY,i=Date.now()})),n.addEventListener("mouseup",(function(e){var n=Math.abs(e.clientX-t),a=Math.abs(e.clientY-o),s=Date.now()-i;r.mouseMoved=n+a>10||s>500}))})),c=t(4418);function h(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n.scene,this.cannonWorld=n.cannonWorld,this.index=n.index,this.width=n.width||.6,this.height=n.height||1,this.depth=n.depth||.2,this.x=n.x||0,this.y=n.y||.5,this.z=n.z||0,this.rotationY=n.rotationY||0,n.gltfLoader.load("./models/domino.glb",(function(e){t.modelMesh=e.scene.children[0],t.modelMesh.name="".concat(t.index,"번 도미노"),t.modelMesh.castShadow=!0,t.modelMesh.position.set(t.x,t.y,t.z),t.scene.add(t.modelMesh),t.setCannonBody()}))}var n,t,o;return n=e,(t=[{key:"setCannonBody",value:function(){var e=new r.xu(new r.AO(this.width/2,this.height/2,this.depth/2));this.cannonBody=new r.uT({mass:1,position:new r.AO(this.x,this.y,this.z),shape:e}),this.cannonBody.quaternion.setFromAxisAngle(new r.AO(0,1,0),this.rotationY),this.modelMesh.cannonBody=this.cannonBody,this.cannonWorld.addBody(this.cannonBody)}}])&&h(n.prototype,t),o&&h(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();!function(){var e=document.querySelector("#three-canvas"),n=new o.CP7({canvas:e,antialias:!0});n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(window.devicePixelRatio>1?2:1),n.shadowMap.enabled=!0,n.shadowMap.type=o._iA;var t=new o.xsS,a=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);a.position.y=8,a.position.z=8,t.add(a);var s=new o.Mig("white",.5);t.add(s);var h=new o.Ox3("white",1);h.position.x=1,h.position.z=2,t.add(h),h.castShadow=!0,new i.z(a,n.domElement);var w=new c.E,u=new r.q3;u.gravity.set(0,-9.8,0),u.broadphase=new r.BQ(u);var p=new r.F5("default"),f=new r.kp(p,p,{friction:.01,restitution:.9});u.defaultContactMaterial=f;var v=new r.JO,y=new r.uT({mass:0,position:new r.AO(0,0,0),shape:v,material:p});y.quaternion.setFromAxisAngle(new r.AO(-1,0,0),Math.PI/2),u.addBody(y);var b=new o.Kj0(new o._12(10,20),new o.Wid({color:"slategray",side:o.ehD}));b.position.z=-5,b.receiveShadow=!0,b.rotation.x=Math.PI/2,t.add(b);for(var m,g=[],O=-3;O<17;O++)m=new l({index:O,scene:t,cannonWorld:u,gltfLoader:w,z:.8*-O}),g.push(m);var x=new o.SUY,M=new o.iMs,j=new o.FM8;window.addEventListener("resize",(function(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),n.render(t,a)})),e.addEventListener("click",(function(n){B.mouseMoved||(j.x=n.clientX/e.clientWidth*2-1,j.y=-(n.clientY/e.clientHeight*2-1),M.setFromCamera(j,a),M.intersectObjects(t.children)[0].object.cannonBody.applyForce(new r.AO(0,0,-100),new r.AO(0,0,0)))}));var B=new d(e);!function e(){var o=x.getDelta(),i=1/60;o<.01&&(i=1/120),u.step(i,o,3),g.forEach((function(e){e.cannonBody&&(e.modelMesh.position.copy(e.cannonBody.position),e.modelMesh.quaternion.copy(e.cannonBody.quaternion))})),n.render(t,a),n.setAnimationLoop(e)}()}()}},t={};function o(e){var i=t[e];if(void 0!==i)return i.exports;var r=t[e]={exports:{}};return n[e](r,r.exports,o),r.exports}o.m=n,e=[],o.O=(n,t,i,r)=>{if(!t){var a=1/0;for(h=0;h<e.length;h++){for(var[t,i,r]=e[h],s=!0,d=0;d<t.length;d++)(!1&r||a>=r)&&Object.keys(o.O).every((e=>o.O[e](t[d])))?t.splice(d--,1):(s=!1,r<a&&(a=r));if(s){e.splice(h--,1);var c=i();void 0!==c&&(n=c)}}return n}r=r||0;for(var h=e.length;h>0&&e[h-1][2]>r;h--)e[h]=e[h-1];e[h]=[t,i,r]},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={179:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var i,r,[a,s,d]=t,c=0;if(a.some((n=>0!==e[n]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(d)var h=d(o)}for(n&&n(t);c<a.length;c++)r=a[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(h)},t=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var i=o.O(void 0,[906],(()=>o(4705)));i=o.O(i)})();