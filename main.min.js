(()=>{"use strict";var e,n={4705:(e,n,t)=>{t(853),t(4994);var o=t(6075),i=t(8012),a=t(3653);function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var d=s((function e(n){var t,o,i,a=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.mouseMoved,n.addEventListener("mousedown",(function(e){t=e.clientX,o=e.clientY,i=Date.now()})),n.addEventListener("mouseup",(function(e){var n=Math.abs(e.clientX-t),r=Math.abs(e.clientY-o),s=Date.now()-i;a.mouseMoved=n+r>10||s>500}))})),h=t(4418);function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n.scene,this.cannonWorld=n.cannonWorld,this.index=n.index,this.width=n.width||.6,this.height=n.height||1,this.depth=n.depth||.2,this.x=n.x||0,this.y=n.y||.5,this.z=n.z||0,this.rotationY=n.rotationY||0,n.gltfLoader.load("./models/domino.glb",(function(e){t.modelMesh=e.scene.children[0],t.modelMesh.name="".concat(t.index,"번 도미노"),t.modelMesh.castShadow=!0,t.modelMesh.position.set(t.x,t.y,t.z),t.scene.add(t.modelMesh),t.setCannonBody()}))}var n,t,o;return n=e,(t=[{key:"setCannonBody",value:function(){var e=new a.xu(new a.AO(this.width/2,this.height/2,this.depth/2));this.cannonBody=new a.uT({mass:1,position:new a.AO(this.x,this.y,this.z),shape:e}),this.cannonBody.quaternion.setFromAxisAngle(new a.AO(0,1,0),this.rotationY),this.modelMesh.cannonBody=this.cannonBody,this.cannonWorld.addBody(this.cannonBody)}}])&&c(n.prototype,t),o&&c(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();!function(){var e=document.querySelector("#three-canvas"),n=new o.CP7({canvas:e,antialias:!0});n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(window.devicePixelRatio>1?2:1),n.shadowMap.enabled=!0,n.shadowMap.type=o._iA;var t=new o.xsS;t.background=(new o.cBK).setPath("texture/").load(["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]);var r=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.y=8,r.position.z=8,t.add(r);var s=new o.Mig("white",.5);t.add(s);var c=new o.Ox3("white",2);c.position.x=1,c.position.z=6,t.add(c),c.castShadow=!0,new i.z(r,n.domElement);var w=new h.E,u=new a.q3;u.gravity.set(0,-9.8,0),u.broadphase=new a.BQ(u);var p=new a.F5("default"),f=new a.kp(p,p,{friction:.01,restitution:.9});u.defaultContactMaterial=f;var v=new a.JO,y=new a.uT({mass:0,position:new a.AO(0,0,0),shape:v,material:p});y.quaternion.setFromAxisAngle(new a.AO(-1,0,0),Math.PI/2),u.addBody(y);var g=new o.Kj0(new o._12(15,20,50,50),new o.Wid({color:"#786fa6",side:o.ehD,metalness:.1,roughness:.5,flatShading:!0}));g.position.z=-5,g.receiveShadow=!0,g.rotation.x=Math.PI/2,t.add(g);for(var m=g.geometry.attributes.position.array,b=0;b<m.length;b+=3)m[b]=m[b]+.1*(Math.random()-.5),m[b+1]=m[b+1]+.1*(Math.random()-.5),m[b+2]=m[b+2]+.3*(Math.random()-.5);for(var M,x=[],O=-3;O<17;O++)M=new l({index:O,scene:t,cannonWorld:u,gltfLoader:w,z:.8*-O}),x.push(M);var j=new o.SUY,B=new o.iMs,z=new o.FM8;window.addEventListener("resize",(function(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),n.render(t,r)})),e.addEventListener("click",(function(n){P.mouseMoved||(z.x=n.clientX/e.clientWidth*2-1,z.y=-(n.clientY/e.clientHeight*2-1),B.setFromCamera(z,r),B.intersectObjects(t.children)[0].object.cannonBody.applyForce(new a.AO(0,0,-100),new a.AO(0,0,0)))}));var P=new d(e);!function e(){var o=j.getDelta(),i=j.getElapsedTime(),a=1/60;o<.01&&(a=1/120),u.step(a,o,3);for(var s=0;s<m.length;s+=2)m[s]=m[s]+=1e-4*Math.cos(i),m[s+1]=m[s+1]+=1e-4*Math.cos(i),m[s+2]=m[s+2]+=.002*Math.cos(i);g.geometry.attributes.position.needsUpdate=!0,x.forEach((function(e){e.cannonBody&&(e.modelMesh.position.copy(e.cannonBody.position),e.modelMesh.quaternion.copy(e.cannonBody.quaternion))})),n.render(t,r),n.setAnimationLoop(e)}()}()}},t={};function o(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return n[e](a,a.exports,o),a.exports}o.m=n,e=[],o.O=(n,t,i,a)=>{if(!t){var r=1/0;for(c=0;c<e.length;c++){for(var[t,i,a]=e[c],s=!0,d=0;d<t.length;d++)(!1&a||r>=a)&&Object.keys(o.O).every((e=>o.O[e](t[d])))?t.splice(d--,1):(s=!1,a<r&&(r=a));if(s){e.splice(c--,1);var h=i();void 0!==h&&(n=h)}}return n}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[t,i,a]},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={179:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var i,a,[r,s,d]=t,h=0;if(r.some((n=>0!==e[n]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(d)var c=d(o)}for(n&&n(t);h<r.length;h++)a=r[h],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},t=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var i=o.O(void 0,[906],(()=>o(4705)));i=o.O(i)})();